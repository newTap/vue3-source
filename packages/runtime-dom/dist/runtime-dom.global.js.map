{"version":3,"file":"runtime-dom.global.js","sources":["../../shared/src/index.ts","../src/modules/event.ts","../src/modules/style.ts","../src/modules/arrt.ts","../src/pathProp.ts"],"sourcesContent":["export const isObject =  (value:unknown) => typeof value === 'object' && value !== null\n\nexport const isFunction = (value:unknown): value is Function => typeof value === 'function'\n\nexport const isArray = Array.isArray\n\nexport const isString = (val: unknown): val is string => typeof val === 'string'\n\nexport const isSymbol = (val: unknown): val is symbol => typeof val === 'symbol'\n\nexport const isObj = (val:unknown): val is object => (!!val) && (typeof val === 'object')\n\nexport const isIntegerKey = (key: unknown) =>  isString(key)&&key[0]!='_'&&parseInt(key, 10)+'' === key\n\nexport const hasOwn = (target: object, key: string | symbol): boolean => target.hasOwnProperty(key)\n\nexport const hasChange = (value:unknown, oldValue:unknown) => value !== oldValue\n\nexport const isRef = (val: any) => !!val.__v_isRef\n\nexport const isOn = (val: string) => RegExp(/on[^a-z]/).test(val)\n\nexport const ibBoolean = (val: any):val is boolean => typeof val === 'boolean'\n\nexport const getNow = () => Date.now()\n","import { getNow } from \"@vue/shared\"\n\n// <div onClick/> <div onclick/>\nconst veiKey = Symbol('_vei')\n\ntype pathEventEl = HTMLElement & {[veiKey]: any}\n\nexport const pathEvent = (el:pathEventEl, key: string, nextValue: any, options?: EventListenerOptions,) => {\n  let invokers = el[veiKey] || (el[veiKey] = {})\n  let eventKey = key.slice(2).toLowerCase()\n  let invoker = invokers[eventKey]\n\n  // !当直接修改对应事件的函数事，并不能取消上一个函数的绑定\n  // !因为addEventListener它允许为一个事件添加多个监听器\n  // api: https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener\n  if(invoker && nextValue){\n    // 事件更新\n    invoker.value = nextValue\n  }else{\n    // 第一次设置事件\n    if(!invoker){\n      invoker = (invokers[eventKey] = createInvoker(nextValue))\n      el.addEventListener(eventKey, invoker, options)\n    }if(!nextValue){\n      // 删除事件\n      el.removeEventListener(eventKey, invoker, options)\n    }\n  }\n\n  // 用于创建一个invoker函数，并且返回这个invoker函数\n  // 这样可以方便直接更替对应事件函数，不在需要额外做删除与添加操作，只需要直接修改引用事件的函数即可\n  function createInvoker(event:any){\n     function invoker(...arg:unknown[]){\n      if(typeof invoker.value === 'function'){\n        invoker.value(...arg)\n      }\n    }\n    invoker.value = event\n    return invoker\n  }\n}","// <div class={color: 'red', size: 'large'}/>\nexport default function pathStyle(el: HTMLElement, prevValue: any, nextValue?: any) {\n  if (prevValue && nextValue) {\n    // 两个数据做对比，\n    for (var key in nextValue) {\n      // 修改  和   添加 操作\n      if (nextValue[key] != prevValue[key as any]) {\n        el.style[key as any] = nextValue[key]\n      }\n    }\n    for (var key in prevValue) {\n      // 删除操作\n      if (!(key in nextValue)) {\n        el.style[key as any] = ''\n      }\n    }\n  } else {\n    // 设置样式\n    if (!prevValue && nextValue) {\n      for (var key in nextValue) {\n        el.style[key as any] = nextValue[key]\n      }\n    } else {\n      // 清除样式\n      for (var key in prevValue) {\n        el.style[key as any] = ''\n      }\n    }\n  }\n\n}","// <div data-name='xiaoMing'/>\n\nexport function pathAttr(el:Element, key: string, value: any, nextValue: any){\n  if(value === nextValue) return\n  if(!nextValue && nextValue != 0 ){\n    el.removeAttribute(key);\n  }else{\n    el.setAttribute(key, nextValue)\n  }\n}","import { isOn } from \"@vue/shared\";\nimport { pathEvent } from \"./modules/event\";\nimport pathStyle from \"./modules/style\";\nimport pathClass from \"./modules/style\";\nimport { pathAttr } from \"./modules/arrt\";\n\n// 属性  操作\nexport function pathProps(el: any, key:string, value:any, nextValue: any){\n  console.log(key, isOn(key))\n  if(key === 'class'){\n    pathClass(el, key, nextValue)\n  }else if (key === 'style'){\n    pathStyle(el, value, nextValue)\n  }else if(isOn(key)){\n    pathEvent(el, key, nextValue)\n  }else{\n    pathAttr(el, key, value, nextValue)\n  }\n}"],"names":["pathClass"],"mappings":";;;EAoBO,MAAM,IAAI,GAAG,CAAC,GAAW,KAAK,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;EClBjE;EACA,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;EAItB,MAAM,SAAS,GAAG,CAAC,EAAc,EAAE,GAAW,EAAE,SAAc,EAAE,OAA8B,KAAK;EACxG,IAAA,IAAI,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAA;MAC9C,IAAI,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAA;EACzC,IAAA,IAAI,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAA;;;;EAKhC,IAAA,IAAG,OAAO,IAAI,SAAS,EAAC;;EAEtB,QAAA,OAAO,CAAC,KAAK,GAAG,SAAS,CAAA;OAC1B;WAAI;;UAEH,IAAG,CAAC,OAAO,EAAC;EACV,YAAA,OAAO,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,CAAA;cACzD,EAAE,CAAC,gBAAgB,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;WAChD;UAAA,IAAG,CAAC,SAAS,EAAC;;cAEb,EAAE,CAAC,mBAAmB,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;WACnD;OACF;;;MAID,SAAS,aAAa,CAAC,KAAS,EAAA;UAC7B,SAAS,OAAO,CAAC,GAAG,GAAa,EAAA;EAChC,YAAA,IAAG,OAAO,OAAO,CAAC,KAAK,KAAK,UAAU,EAAC;EACrC,gBAAA,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAA;eACtB;WACF;EACD,QAAA,OAAO,CAAC,KAAK,GAAG,KAAK,CAAA;EACrB,QAAA,OAAO,OAAO,CAAA;OACf;EACH,CAAC;;ECxCD;EACwB,SAAA,SAAS,CAAC,EAAe,EAAE,SAAc,EAAE,SAAe,EAAA;EAChF,IAAA,IAAI,SAAS,IAAI,SAAS,EAAE;;EAE1B,QAAA,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;;cAEzB,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,GAAU,CAAC,EAAE;kBAC3C,EAAE,CAAC,KAAK,CAAC,GAAU,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAA;eACtC;WACF;EACD,QAAA,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;;EAEzB,YAAA,IAAI,EAAE,GAAG,IAAI,SAAS,CAAC,EAAE;EACvB,gBAAA,EAAE,CAAC,KAAK,CAAC,GAAU,CAAC,GAAG,EAAE,CAAA;eAC1B;WACF;OACF;WAAM;;EAEL,QAAA,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE;EAC3B,YAAA,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;kBACzB,EAAE,CAAC,KAAK,CAAC,GAAU,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAA;eACtC;WACF;eAAM;;EAEL,YAAA,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;EACzB,gBAAA,EAAE,CAAC,KAAK,CAAC,GAAU,CAAC,GAAG,EAAE,CAAA;eAC1B;WACF;OACF;EAEH;;EC9BA;EAEM,SAAU,QAAQ,CAAC,EAAU,EAAE,GAAW,EAAE,KAAU,EAAE,SAAc,EAAA;MAC1E,IAAG,KAAK,KAAK,SAAS;UAAE,OAAM;EAC9B,IAAA,IAAG,CAAC,SAAS,IAAI,SAAS,IAAI,CAAC,EAAE;EAC/B,QAAA,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;OACzB;WAAI;EACH,QAAA,EAAE,CAAC,YAAY,CAAC,GAAG,EAAE,SAAS,CAAC,CAAA;OAChC;EACH;;ECHA;EACM,SAAU,SAAS,CAAC,EAAO,EAAE,GAAU,EAAE,KAAS,EAAE,SAAc,EAAA;MACtE,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;EAC3B,IAAA,IAAG,GAAG,KAAK,OAAO,EAAC;EACjB,QAAAA,SAAS,CAAC,EAAE,EAAE,GAAG,EAAE,SAAS,CAAC,CAAA;OAC9B;EAAK,SAAA,IAAI,GAAG,KAAK,OAAO,EAAC;EACxB,QAAA,SAAS,CAAC,EAAE,EAAE,KAAK,EAAE,SAAS,CAAC,CAAA;OAChC;EAAK,SAAA,IAAG,IAAI,CAAC,GAAG,CAAC,EAAC;EACjB,QAAA,SAAS,CAAC,EAAE,EAAE,GAAG,EAAE,SAAS,CAAC,CAAA;OAC9B;WAAI;UACH,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,SAAS,CAAC,CAAA;OACpC;EACH;;;;;;;;;;"}